{% extends "admin/base_site.html" %}

{% block extrahead %}{{ block.super }}
<script type="text/javascript" src="/media/scale/js/sorttable.js"></script>
{% endblock %}
{% block stylesheet %}{% load adminmedia %}{% admin_media_prefix %}css/dashboard.css{% endblock %}
{% block coltype %}colMS{% endblock %}
{% block bodyclass %}dashboard{% endblock %}
{% block content %}
<div id="content-main">

<script type="text/javascript" language="Javascript"> 
function toggleDisplay(id) {
  if( document.getElementById(id).style.display == "none" ) {
    document.getElementById(id).style.display = "block";
  } else {
    document.getElementById(id).style.display = "none";
  }
}
</script>

<h2>Orders
<a href="#" onclick="toggleDisplay('orders'); return false;"><tt>[*]</tt></a>
</h2>

<div id="orders">
<table border="1">
<tr>
  <th></th>
  <th>7 Days</th>
  <th>30 Days</th>
  <th>Total</th>
</tr>
<tr>
  <td>Orders</td>
  <td>{{ orders.numbers_7 }}</td>
  <td>{{ orders.numbers_30 }}</td>
  <td>{{ orders.numbers }}</td>
</tr>
<tr>
  <td>Revenue</td>
  <td>${{ orders.revenue_7 }}</td>
  <td>${{ orders.revenue_30 }}</td>
  <td>${{ orders.revenue }}</td>
</tr>
</table>
</div>

<h3>By Type
<a href="#" onclick="toggleDisplay('orders_type'); return false;"><tt>[*]</tt></a>
</h3>

<div id="orders_type">
<table border="1" class="sortable">
<tr>
  <th></th>
  <th>7 Days</th>
  <th>30 Days</th>
  <th>Total</th>
</tr>
{% for order_pt in orders.by_type %}
<tr>
  <td>{{ order_pt.name }}</td>
  <td>{{ order_pt.numbers_7 }}</td>
  <td>{{ order_pt.numbers_30 }}</td>
  <td>{{ order_pt.numbers }}</td>
</tr>
{% endfor %}
</table>
</div>

<!--
<h2>Attendees</h2>

<table border="1" class="sortable">
<tr>
  <th></th>
  <th>7 Days</th>
  <th>30 Days</th>
  <th>Total</th>
</tr>
<tr>
  <td>Attendees</td>
  <td>blar</td>
  <td>blar</td>
  <td>blar</td>
</tr>
<tr>
  <td>Checked in</td>
  <td></td>
  <td></td>
  <td>blar</td>
</tr>
</table>

<h3>By Type</h3>

<table border="1" class="sortable">
<tr>
  <th></th>
  <th>7 Days</th>
  <th>30 Days</th>
  <th>Total</th>
</tr>
<tr>
  <td>XXX</td>
  <td>blar</td>
  <td>blar</td>
  <td>blar</td>
</tr>
</table>

<h3>Promo Codes</h3>

<table border="1" class="sortable">
<tr>
  <th>Promo</th>
  <th>Numbers</th>
  <th>Percentage</th>
</tr>
<tr>
  <td>XXX</td>
  <td>blar</td>
  <td>blar</td>
</tr>
</table>

<h3>Tickets</h3>

<table border="1" class="sortable">
<tr>
  <th>Ticket</th>
  <th>Numbers</th>
  <th>Percentage</th>
</tr>
<tr>
  <td>XXX</td>
  <td>blar</td>
  <td>blar</td>
</tr>
</table>

<h3>Addons</h3>

<table border="1" class="sortable">
<tr>
  <th>Ticket</th>
  <th>Numbers</th>
  <th>Percentage</th>
</tr>
<tr>
  <td>XXX</td>
  <td>blar</td>
  <td>blar</td>
</tr>
</table>

//-->

<h2>Zip Codes
<a href="#" onclick="toggleDisplay('zipcode'); return false;"><tt>[*]</tt></a>
</h2>

<div id="zipcode">
<h3>Attendees
<a href="#" onclick="toggleDisplay('zipcode_attendees'); return false;"><tt>[*]</tt></a>
</h3>

<div id="zipcode_attendees">
<table border="1" class="sortable">
<tr>
  <th>Zip</th>
  <th>Numbers</th>
  <th>Percentage</th>
</tr>
{% for zip in zipcode_attendees %}
<tr>
  <td>{{ zip.zip }}</td>
  <td>{{ zip.count }}</td>
  <td>{{ zip.percentage }}</td>
</tr>
{% endfor %}
</table>
</div>

<h3>Orders
<a href="#" onclick="toggleDisplay('zipcode_orders'); return false;"><tt>[*]</tt></a>
</h3>

<div id="zipcode_orders">
<table border="1" class="sortable">
<tr>
  <th>Zip</th>
  <th>Numbers</th>
  <th>Percentage</th>
</tr>
{% for zip in zipcode_orders %}
<tr>
  <td>{{ zip.name }}</td>
  <td>{{ zip.count }}</td>
  <td>{{ zip.percentage }}</td>
</tr>
{% endfor %}
</table>
</div>
</div>

<h2>Survey Results
<a href="#" onclick="toggleDisplay('survey_results'); return false;"><tt>[*]</tt></a>
</h2>

<div id='survey_results'>
{% for q in questions %}
  <h3>{{ q.name }}
  <a href="#" onclick="toggleDisplay('{{ q.name|slugify }}'); return false;"><tt>[*]</tt></a>
  </h3>

  <div id="{{ q.name|slugify }}">
  <table border="1" class="sortable">
  <tr>
    <th></th>
    <th>Numbers</th>
    <th>Percentage</th>
  </tr>
  {% for ans in q.answers %}
  <tr>
    <td>{{ ans.name }}</td>
    <td>{{ ans.count }}</td>
    <td>{{ ans.percentage }}</td>
  </tr>
  {% endfor %}
  </table>
  </div>
{% endfor %}
</div>


</div>
{% endblock %}
